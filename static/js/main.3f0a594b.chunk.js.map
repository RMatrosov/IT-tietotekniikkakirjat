{"version":3,"sources":["components/Card/styles.ts","redux/constants/constants.ts","components/Card/Card.tsx","redux/action/cart.ts","components/Page/styles.ts","components/Page/Page.tsx","redux/action/paginate.ts","components/Main/Main.tsx","components/Header/styles.ts","components/Header/Header.tsx","redux/action/search.ts","components/SortPopup/styles.ts","components/SortPopup/SortPopup.tsx","redux/action/books.ts","components/Image/styles.ts","components/Image/Image.tsx","components/Form/styles.ts","components/Form/Form.tsx","components/Cart/styles.ts","components/Cart/Cart.tsx","App.tsx","redux/action/filter.ts","reportWebVitals.js","redux/reducers/books.ts","redux/reducers/search.ts","redux/reducers/filter.ts","redux/reducers/cart.ts","redux/reducers/paginate.ts","redux/reducers/index.ts","redux/store.ts","index.tsx"],"names":["useStyles","makeStyles","root","height","display","flexDirection","media","width","minHeight","maxWidth","margin","objectFit","title","marginTop","color","price","fontSize","type","cardContext","padding","link","textDecoration","SET_LOADED","SET_BOOKS","ADD_BOOK_CART","REMOVE_CART_ITEM","PLUS_CART_ITEM","MINUS_CART_ITEM","SET_SORT_BY","SET_TOTAL_ITEM_COUNT","SET_CURRENT_PAGE","SEARCH_BOOKS","CardItem","card","classes","dispatch","useDispatch","onAddToCart","payload","Card","className","to","CardActionArea","CardMedia","component","alt","image","imgSmall","CardContent","Typography","gutterBottom","variant","CardActions","Button","fullWidth","onClick","theme","btnGroup","alignSelf","marginBottom","spacing","Page","useSelector","state","paginate","totalItemCount","currentPage","defaultItemsCount","pagesCount","Math","ceil","Pagination","count","page","onChange","event","value","setCurrentPage","Main","items","isLoaded","books","search","dataSearch","filter","item","Object","keys","some","key","toString","toLowerCase","includes","Box","style","Grid","container","direction","justifyContent","map","xs","sm","md","id","Array","fill","_","index","Skeleton","flexGrow","paddingTop","shopCard","appBar","backgroundColor","breakpoints","up","position","borderRadius","shape","alpha","palette","common","white","marginLeft","searchIcon","pointerEvents","alignItems","inputRoot","inputInput","paddingLeft","transition","transitions","create","StyledBadge","withStyles","badge","right","top","border","background","paper","Badge","Header","onSearch","searchBooks","totalCount","cart","AppBar","Toolbar","noWrap","IconButton","overlap","badgeContent","InputBase","target","placeholder","input","inputProps","label","SortPopup","onSortBy","FormControl","RadioGroup","row","name","defaultValue","order","FormControlLabel","control","Radio","labelPlacement","setBooks","details","content","flex","cover","controls","paddingBottom","Image","find","getImageById","useParams","author","imgMedium","form","box","TextField","submitBtn","email","schema","yup","firstName","matches","required","lastName","address","post","city","Form","useForm","mode","resolver","yupResolver","register","handleSubmit","errors","formState","useState","hasPhone","setHasPhone","hasEmail","setHasEmail","onSubmit","data","alert","JSON","stringify","console","log","Switch","checked","multiline","error","helperText","message","marginRight","flexWrap","bookIcon","formBox","boxWrapper","Cart","totalPrice","onRemove","window","confirm","removeCartItem","onMinus","minusCartItem","onPlus","plusCartItem","addedBooks","Container","toFixed","length","boxShadow","App","filters","sortBy","useEffect","getState","a","axios","get","then","fetchBooks","catch","e","exact","path","setSortBy","pathname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","getTotalPrice","arr","reduce","sum","obj","getTotalSum","values","split","firstKey","val","_get","currenItems","newItems","currentTotalPrice","currentTotalCount","newObjItems","oldItems","slice","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.3f0a594b.chunk.js","sourcesContent":["import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  media: {\n    width: '100%',\n    minHeight: 260,\n    maxWidth: '100%',\n    margin: 0,\n    objectFit: 'fill'\n  },\n  title: {\n    marginTop: 10,\n    color: '#424242'\n  },\n  price: {\n    fontSize: '0.87rem',\n    color: '#424242'\n  },\n  type: {\n    fontSize: '0.87rem',\n    color: '#424242'\n  },\n  cardContext: {\n    margin: 0,\n    padding: 10\n  },\n  link: {\n    textDecoration: 'none'\n  }\n});","export const SET_LOADED = 'SET_LOADED';\nexport const SET_BOOKS = 'SET_BOOKS';\n\nexport const ADD_BOOK_CART = 'ADD_BOOK_CART';\nexport const REMOVE_CART_ITEM = 'REMOVE_CART_ITEM';\nexport const PLUS_CART_ITEM = 'PLUS_CART_ITEM';\nexport const MINUS_CART_ITEM = 'MINUS_CART_ITEM';\n\nexport const SET_SORT_BY = 'SET_SORT_BY';\n\nexport const SET_TOTAL_ITEM_COUNT = 'SET_TOTAL_ITEM_COUNT';\nexport const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\n\nexport const SEARCH_BOOKS = 'SEARCH_BOOKS';","import Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport {Button, CardActions} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\n\nimport {useStyles} from \"./styles\";\nimport {addBookToCart} from \"../../redux/action/cart\";\nimport {FunctionComponent, ReactElement} from \"react\";\nimport {itemsType} from \"../../redux/reducers/books\";\n\n\ntype CartItemTypesProps = {\n    card: itemsType\n}\n\nconst CardItem: FunctionComponent<CartItemTypesProps> = (card): ReactElement => {\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch()\n\n    const title = card.card.title;\n\n    function onAddToCart(card: itemsType) {\n        dispatch(addBookToCart(card))\n    }\n\n    return (\n        <Card className={classes.root}>\n            <Link to={`img/${title}`} className={classes.link}>\n                <CardActionArea>\n                    <CardMedia\n                        component=\"img\"\n                        alt=\"Contemplative Reptile\"\n                        height=\"260\"\n                        image={`https:${card.card.imgSmall}`}\n                        title=\"Contemplative Reptile\"\n                        className={classes.media}\n                    />\n                    <CardContent className={classes.cardContext}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\" className={classes.title}>\n                            {title}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={classes.type}>\n                            {card.card.type}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h6\" className={classes.price}>\n                            {card.card.price} €\n                        </Typography>\n                    </CardContent>\n                </CardActionArea>\n            </Link>\n            <CardActions>\n                <Button fullWidth={true} onClick={() => onAddToCart(card.card)}\n                        variant=\"outlined\">\n                    Lisää koriin\n                </Button>\n            </CardActions>\n        </Card>)\n}\n\nexport default CardItem","import {ADD_BOOK_CART, MINUS_CART_ITEM, PLUS_CART_ITEM, REMOVE_CART_ITEM} from \"../constants/constants\";\nimport {itemsType} from \"../reducers/books\";\n\nexport type CartActionTypes =\n    addBookToCartActionType | removeCartItemActionType\n    | plusCartItemActionType | minusCartItemActionType\n\n\ntype addBookToCartActionType = {\n    type: typeof ADD_BOOK_CART,\n    payload: itemsType\n}\n\ntype removeCartItemActionType = {\n    type: typeof REMOVE_CART_ITEM,\n    payload: string\n}\n\ntype plusCartItemActionType = {\n    type: typeof PLUS_CART_ITEM,\n    payload: string\n}\n\ntype minusCartItemActionType = {\n    type: typeof MINUS_CART_ITEM,\n    payload: string\n}\n\nexport const addBookToCart = (item: itemsType): addBookToCartActionType => ({\n    type: ADD_BOOK_CART,\n    payload: item,\n});\n\nexport const removeCartItem = (id: string): removeCartItemActionType => ({\n    type: REMOVE_CART_ITEM,\n    payload: id,\n});\n\nexport const plusCartItem = (id: string): plusCartItemActionType => ({\n    type: PLUS_CART_ITEM,\n    payload: id,\n});\n\nexport const minusCartItem = (id: string): minusCartItemActionType => ({\n    type: MINUS_CART_ITEM,\n    payload: id,\n});\n\n/*export const clearCart = () => ({\n  type: 'CLEAR_CART',\n});*/\n\n\n\n","import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  btnGroup: {\n    marginTop: 40,\n    alignSelf: 'center',\n    marginBottom: 40,\n    '& > *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));","import Pagination from '@material-ui/lab/Pagination';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setCurrentPage} from \"../../redux/action/paginate\";\nimport {useStyles} from \"./styles\";\nimport {AppStateType} from \"../../redux/store\";\n\n\nexport const Page = () => {\n\n    const dispatch = useDispatch()\n\n    const {totalItemCount, currentPage, defaultItemsCount} = useSelector((state: AppStateType) => state.paginate);\n\n    const pagesCount = Math.ceil(totalItemCount / defaultItemsCount);\n\n    const onSetPage = (event: any, value: number) => {\n        dispatch(setCurrentPage(value))\n    }\n\n    const classes = useStyles();\n\n\n    return (\n        <div className={classes.btnGroup}>\n            <Pagination count={pagesCount} page={currentPage}\n                        onChange={onSetPage} color=\"primary\"/>\n        </div>\n\n    )\n}\n\n","import {SET_CURRENT_PAGE, SET_TOTAL_ITEM_COUNT} from \"../constants/constants\";\n\n\ntype setTotalItemCountActionType = {\n    type: typeof SET_TOTAL_ITEM_COUNT,\n    payload: number\n}\n\ntype setCurrentPageActionType = {\n    type: typeof SET_CURRENT_PAGE,\n    payload: number\n}\n\nexport type PaginateActionType = setTotalItemCountActionType | setCurrentPageActionType\n\nexport const setTotalItemCount = (value: number): setTotalItemCountActionType => ({\n    type: SET_TOTAL_ITEM_COUNT,\n    payload: value,\n});\n\n\nexport const setCurrentPage = (value: number): setCurrentPageActionType => ({\n    type: SET_CURRENT_PAGE,\n    payload: value,\n});","import {Box, Grid} from \"@material-ui/core\";\nimport {useSelector} from \"react-redux\";\nimport CardItem from \"../Card/Card\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport {Page} from \"../Page/Page\";\nimport {itemsType} from \"../../redux/reducers/books\";\nimport {FunctionComponent, ReactElement} from \"react\";\nimport {AppStateType} from \"../../redux/store\";\n\n\ntype MainTypesProps = {\n    items: Array<itemsType>\n}\n\n\nconst Main: FunctionComponent<MainTypesProps> = ({items}): ReactElement => {\n\n\n    const isLoaded = useSelector((state: AppStateType) => state.books.isLoaded);\n\n    const search = useSelector((state: AppStateType) => state.search);\n\n    let dataSearch = items.filter((item: itemsType) => {\n        return Object.keys(item).some((key:string) =>\n            item[key].toString().toLowerCase().includes(search.search.toString().toLowerCase())\n        )\n    })\n\n    return (\n        <Box style={{display: 'flex', flexDirection: 'column'}}>\n            <Grid container\n                  direction=\"row\"\n                  justifyContent=\"space-evenly\"\n                  spacing={6}>\n                {isLoaded ? dataSearch.map((card) => <Grid item key={card.id} xs={12} sm={6} md={4}>\n                    <CardItem card={card}/>\n                </Grid>) : Array(6)\n                    .fill(0)\n                    .map((_, index) => <Skeleton key={index} variant=\"rect\" width={270} height={280}/>)}\n            </Grid>\n            <Page/>\n        </Box>\n    )\n}\n\nexport default Main","import {alpha, makeStyles} from \"@material-ui/core/styles\";\nimport {Badge, withStyles} from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    paddingTop: 5,\n  },\n  shopCard: {\n    color: 'white'\n  },\n  appBar: {\n    backgroundColor: '#424242'\n  },\n  title: {\n    flexGrow: 1,\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: 'auto',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: '50%',\n    },\n\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\nexport const StyledBadge = withStyles((theme) => ({\n  badge: {\n    right: -3,\n    top: 13,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: '0 4px',\n  },\n}))(Badge);","import React from 'react';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport {AppBar, IconButton, Toolbar} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {searchBooks} from \"../../redux/action/search\";\nimport {Link} from \"react-router-dom\";\nimport {StyledBadge, useStyles} from \"./styles\";\nimport {AppStateType} from \"../../redux/store\";\n\n\n\nconst Header = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  function onSearch(value:string) {\n    dispatch(searchBooks(value))\n  }\n\n  const {totalCount} = useSelector((state: AppStateType) => state.cart);\n\n  return (\n      <div className={classes.root}>\n        <AppBar position=\"static\" className={classes.appBar}>\n          <Toolbar>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              IT tietotekniikkakirjat\n            </Typography>\n            <Link to='/cart'>\n              <IconButton aria-label=\"cart\">\n                <StyledBadge overlap='rectangular' badgeContent={totalCount} color=\"secondary\">\n                  <ShoppingCartIcon className={classes.shopCard}/>\n                </StyledBadge>\n              </IconButton>\n            </Link>\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon/>\n              </div>\n              <InputBase\n                  onChange={(event) => onSearch(event.target.value)}\n                  placeholder=\"Search…\"\n                  classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                  }}\n                  inputProps={{'aria-label': 'search'}}\n              />\n            </div>\n          </Toolbar>\n        </AppBar>\n      </div>\n  )\n}\n\nexport default Header;","import {SEARCH_BOOKS} from \"../constants/constants\";\n\n\nexport type searchBooksActionType = {\n    type: typeof SEARCH_BOOKS,\n    payload: string\n}\n\nexport const searchBooks = (value: string): searchBooksActionType => ({\n    type: SEARCH_BOOKS,\n    payload: value,\n});\n","import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: 40,\n    border: '1px solid #616161',\n    width: '100%'\n  },\n  label:{\n    margin: 0,\n    width: '20%'\n  }\n}));\n","import React, {FunctionComponent, ReactElement} from 'react';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport {useStyles} from \"./styles\";\nimport {ISortItemsType} from \"../interfaces/ISortItemsType\";\n\n\n\ntype SortPopupTypesProps = {\n    onSortBy(item: ISortItemsType):void\n}\n\nconst SortPopup: FunctionComponent<SortPopupTypesProps> = ({onSortBy}): ReactElement => {\n\n    const classes = useStyles();\n\n    const sortItems = [\n        {name: 'Kaikki', type: '', order: '', label: 'all'},\n        {name: 'Hinta, halvin ensin', type: 'price', order: 'asc', label: 'low'},\n        {name: 'Hinta, kallein ensin', type: 'price', order: 'desc', label: 'high'},\n        {name: 'A-Ö, nimen mukaan', type: 'title', order: 'asc', label: 'a-o'},\n        {name: 'Ö-A, nimen mukaan', type: 'title', order: 'desc', label: 'o-a'},\n    ];\n\n    return (\n        <FormControl component=\"fieldset\" className={classes.root}>\n            <RadioGroup row aria-label=\"position\" name=\"position\"\n                        defaultValue=\"all\">\n                {sortItems.map((item, index) => <FormControlLabel\n                    key={`${item.type}_${index}`}\n                    value={item.label}\n                    control={<Radio color=\"default\"/>}\n                    label={item.name}\n                    labelPlacement=\"bottom\"\n                    onChange={() => onSortBy(item)}\n                    className={classes.label}\n                />)}\n            </RadioGroup>\n        </FormControl>\n    )\n};\n\nexport default SortPopup","import axios from 'axios';\nimport {SET_BOOKS, SET_LOADED} from \"../constants/constants\";\nimport {itemsType} from \"../reducers/books\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStateType} from \"../store\";\n\n\ntype setBooksActionType = {\n    type: typeof SET_BOOKS,\n    payload: Array<itemsType>\n}\n\ntype setLoadedActionType = {\n    type: typeof SET_LOADED,\n    payload: boolean\n}\n\nexport const setLoaded = (payload: boolean) => ({\n    type: SET_LOADED,\n    payload,\n});\n\nexport type ActionType = setBooksActionType | setLoadedActionType\n\nexport const fetchBooks = (page: number, type: string | null, order: string | null)\n    : ThunkAction<Promise<void>, AppStateType, unknown, ActionType> => {\n    return async (dispatch, getState) => {\n        dispatch({\n            type: SET_LOADED,\n            payload: false,\n        });\n\n        axios.get(` http://localhost:3001/books?_page=${page}&_sort=${type ? type : ''}&_order=${order ? order : ''}`).then(({data}) => {\n            dispatch(setBooks(data));\n        });\n    }\n}\n\nexport const setBooks = (items: Array<itemsType>): setBooksActionType => ({\n    type: SET_BOOKS,\n    payload: items,\n});\n","import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    position: 'relative',\n    paddingLeft: 150\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    width: 500,\n    height: 700,\n\n\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  link: {\n    textDecoration: 'none',\n    position: 'absolute',\n    right: 0,\n    top: 0\n  },\n}));","import {Link, useParams} from 'react-router-dom'\nimport React, {FunctionComponent, ReactElement} from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport {Button} from \"@material-ui/core\";\nimport {useStyles} from \"./styles\";\nimport {itemsType} from \"../../redux/reducers/books\";\n\ntype ImageTypesProps = {\n    items: Array<itemsType>\n}\n\ntype TitleType = {\n    title: string\n}\n\nconst Image: FunctionComponent<ImageTypesProps> = ({items}): ReactElement => {\n\n    const {title} = useParams<TitleType>();\n\n    const getImageById = (items: Array<itemsType>, title: string) =>\n        items.find((item) => item.title === title)\n\n    const image = getImageById(items, title);\n\n    const classes = useStyles();\n\n    return (\n        <>\n\n            {image ? <Card className={classes.root}>\n                    <div className={classes.details}>\n                        <CardContent className={classes.content}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                {image.author}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                {image.type}\n                            </Typography>\n                            <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                {image.price} €\n                            </Typography>\n                        </CardContent>\n                    </div>\n                    <CardMedia\n                        className={classes.cover}\n                        image={`https:${image.imgMedium}`}\n                        title={image.title}\n                    />\n                    <Link to='/' className={classes.link}>\n                        <Button variant=\"contained\" color=\"primary\">\n                            Back\n                        </Button>\n                    </Link>\n                </Card>\n                : ''}\n        </>\n\n    )\n}\n\nexport default Image","import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  form: {\n    margin: 15,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  box: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  TextField: {\n    width: '48%',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  fullWidth: {\n    marginTop: 20,\n  },\n  submitBtn: {\n    marginTop: 20,\n    width: 250,\n    height: 60,\n    alignSelf: 'center'\n  },\n  email:{\n    marginTop: 20,\n    marginBottom: 20\n  }\n\n}))","import React, {FunctionComponent, ReactElement, useState} from \"react\";\nimport {useForm} from \"react-hook-form\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport {Box, Button, FormControlLabel, Switch, TextField} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {useStyles} from \"./styles\";\nimport {InitialStateType} from \"../../redux/reducers/cart\";\n\nconst schema = yup.object().shape({\n  firstName: yup\n      .string()\n      .matches(/^([^0-9]*)$/, \"First name should not contain numbers\")\n      .required(\"Syötä etunimi\"),\n  lastName: yup\n      .string()\n      .matches(/^([^0-9]*)$/, \"Last name should not contain numbers\")\n      .required(\"Syötä sukunimi\"),\n  address: yup\n      .string()\n      .required(\"Syötä osoite\"),\n  post: yup\n      .number()\n      .required(\"Syötä postinumero\"),\n  city: yup\n      .string()\n      .matches(/^([^0-9]*)$/, \"Last name should not contain numbers\")\n      .required(\"Syötä kaupunki\"),\n});\n\ntype FormTypesProps = {\n    items: InitialStateType\n}\n\n\nconst Form: FunctionComponent<FormTypesProps> = ({items}): ReactElement => {\n\n  const classes = useStyles();\n\n  const {register, handleSubmit, formState: {errors}} = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(schema)\n  });\n  const onSubmit = (data: any) => {\n    alert(JSON.stringify(data));\n    console.log(items)\n  };\n\n  const [hasPhone, setHasPhone] = useState(false);\n  const [hasEmail, setHasEmail] = useState(false);\n\n\n  return (\n      <form onSubmit={handleSubmit(onSubmit)} className={classes.form}>\n        <Typography component=\"h3\" variant=\"h6\">\n          Toimitusosoite\n        </Typography>\n        <Box>\n          <FormControlLabel control={\n            <Switch\n                checked={hasEmail}\n                onChange={() => setHasEmail(!hasEmail)}\n                name=\"hasEmail\"\n                inputProps={{'aria-label': 'primary checkbox'}}/>}\n                            label=\"Sähköpostiosoite ?\"/>\n\n          <FormControlLabel control={\n            <Switch\n                checked={hasPhone}\n                onChange={() => setHasPhone(!hasPhone)}\n                name=\"hasPhone\"\n                inputProps={{'aria-label': 'primary checkbox'}}/>}\n                            label=\"Puhelin ?\"/>\n        </Box>\n        {hasEmail && (<TextField variant=\"outlined\"\n                                 label=\"Sähköpostiosoite\"\n                                 fullWidth={true}\n                                 type=\"email\"\n                                 placeholder=\"Sähköpostiosoite\"\n                                 className={classes.email}\n        />)}\n\n\n        {hasPhone && (<TextField variant=\"outlined\" label=\"Puhelin\" fullWidth={true}/>)}\n\n        <Box className={classes.box}>\n          <TextField variant=\"outlined\"\n                     label=\"Etunimi\"\n                     id=\"firstName\"\n                     multiline\n                     className={classes.TextField}\n                     placeholder=\"Etunimi\" type=\"text\"\n                     error={!!errors.firstName}\n                     helperText={errors?.firstName?.message}\n                     {...register(\"firstName\", {\n                       required: \"Required\",\n                     })}\n          />\n          <TextField variant=\"outlined\"\n                     label=\"Sukunimi\"\n                     multiline\n                     className={classes.TextField}\n                     id=\"lastName\"\n                     placeholder=\"Sukunimi\" type=\"text\"\n                     error={!!errors.lastName}\n                     helperText={errors?.lastName?.message}\n                     {...register(\"lastName\", {\n                       required: \"Required\",\n                     })}\n          />\n        </Box>\n\n\n        <TextField variant=\"outlined\" label=\"Osoite\"\n                   fullWidth={true}\n                   className={classes.fullWidth}\n                   error={!!errors.address}\n                   helperText={errors?.address?.message}\n                   {...register(\"address\", {\n                     required: \"Required\",\n                   })}/>\n        <Box className={classes.box}>\n          <TextField variant=\"outlined\" label=\"Postinumero\"\n                     className={classes.TextField}\n                     error={!!errors.post}\n                     helperText={errors?.post?.message}\n                     {...register(\"post\", {\n                       required: \"Required\",\n                     })}/>\n\n          <TextField variant=\"outlined\" label=\"Kaupunki\"\n                     className={classes.TextField}\n                     error={!!errors.city}\n                     helperText={errors?.city?.message}\n                     {...register(\"city\", {\n                       required: \"Required\",\n                     })}/>\n\n        </Box>\n\n\n        <Button variant=\"outlined\" className={classes.submitBtn}\n                color=\"secondary\" type=\"submit\">\n          Tilata\n        </Button>\n      </form>\n  );\n}\n\nexport default Form","import {makeStyles} from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    maxWidth: 380,\n    marginBottom: 20,\n    marginRight: 0\n  },\n  container: {\n    backgroundColor: '#e0e0e0',\n    height: 'content',\n    position: 'relative'\n\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    width: 150,\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    flexWrap: 'wrap',\n  },\n  bookIcon: {\n    marginLeft: 20\n  },\n  link: {\n    textDecoration: 'none',\n    position: 'absolute',\n    right: 0,\n    top: 0\n  },\n  box: {\n    width: 380,\n  },\n  formBox: {\n    width: 450,\n    height: 620\n  },\n  boxWrapper: {\n    display: \"flex\",\n    justifyContent: 'space-around',\n    marginTop: 80,\n    flexWrap: 'wrap',\n    minHeight: '100vh',\n  }\n\n}));","import {Link} from \"react-router-dom\";\nimport {Badge, Box, Button, Container} from \"@material-ui/core\";\nimport React from \"react\";\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport MenuBookTwoToneIcon from '@material-ui/icons/MenuBookTwoTone';\nimport Form from \"../Form/Form\";\nimport {useStyles} from \"./styles\";\nimport {minusCartItem, plusCartItem, removeCartItem} from \"../../redux/action/cart\";\nimport {AppStateType} from \"../../redux/store\";\n\n\nconst Cart = () => {\n    const classes = useStyles();\n\n    const {totalPrice, totalCount, items} = useSelector((state: AppStateType) => state.cart);\n    const dispatch = useDispatch()\n\n\n    function onRemove(id: string) {\n        if (window.confirm('Poistaa?')) {\n            dispatch(removeCartItem(id))\n        }\n    }\n\n    function onMinus(id: string) {\n        dispatch(minusCartItem(id))\n    }\n\n    function onPlus(id: string) {\n        dispatch(plusCartItem(id))\n    }\n\n    const addedBooks = Object.keys(items).map((key:string) => {\n        return items[key].items[0];\n    });\n    \n    return (\n        <Container className={classes.container}>\n            <Link to='/' className={classes.link}>\n                <Button variant=\"contained\" color=\"primary\">\n                    Back\n                </Button>\n            </Link>\n            <Typography component=\"h2\" variant=\"h6\">\n                Ostoskori\n            </Typography>\n            <Typography component=\"h2\" variant=\"h6\">\n                Yhteensä {totalPrice.toFixed(2)} €\n            </Typography>\n            <Box className={classes.boxWrapper}>\n                <Box className={classes.box}>\n                    {totalCount ? addedBooks.map((item) => (\n                        <Card className={classes.root} key={item.id}>\n                            <CardMedia\n                                className={classes.cover}\n                                image={`https:${item.imgSmall}`}\n                                title={item.title}\n                            />\n                            <div className={classes.details}>\n                                <CardContent className={classes.content}>\n                                    <Typography component=\"h6\" variant=\"h6\">\n                                        {item.title}\n                                    </Typography>\n                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                        {item.author}\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"initial\">\n                                        {items[item.id].totalPrice.toFixed(2)} €\n                                    </Typography>\n                                </CardContent>\n                                <div className={classes.controls}>\n                                    <IconButton aria-label=\"minus\" onClick={() => onMinus(item.id)}>\n                                        <RemoveIcon/>\n                                    </IconButton>\n                                    <IconButton aria-label=\"delete\" onClick={() => onRemove(item.id)}>\n                                        <DeleteIcon/>\n                                    </IconButton>\n                                    <IconButton aria-label=\"plus\" onClick={() => onPlus(item.id)}>\n                                        <AddIcon/>\n                                    </IconButton>\n                                    <Badge badgeContent={items[item.id].items.length}\n                                           color=\"primary\">\n                                        <MenuBookTwoToneIcon className={classes.bookIcon}/>\n                                    </Badge>\n                                </div>\n                            </div>\n                        </Card>)) : ('')}\n                </Box>\n                <Box className={classes.formBox} boxShadow={2}>\n                    <Form items={items}/>\n                </Box>\n            </Box>\n        </Container>\n    )\n}\n\nexport default Cart","import {Container, makeStyles} from \"@material-ui/core\";\nimport Main from \"./components/Main/Main\";\nimport Header from \"./components/Header/Header\";\nimport SortPopup from \"./components/SortPopup/SortPopup\";\nimport {useEffect} from \"react\";\nimport {fetchBooks} from \"./redux/action/books\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setSortBy} from \"./redux/action/filter\";\nimport {Switch, Route, Redirect} from \"react-router-dom\";\nimport Image from \"./components/Image/Image\";\nimport Cart from \"./components/Cart/Cart\";\nimport axios from \"axios\";\nimport {setTotalItemCount} from \"./redux/action/paginate\";\nimport {AppStateType} from \"./redux/store\";\nimport {ISortItemsType} from \"./components/interfaces/ISortItemsType\";\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        backgroundColor: '#e0e0e0',\n        height: 'content'\n    },\n}));\n\nfunction App() {\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n\n    function onSortBy(item: ISortItemsType) {\n        const type = item.type;\n        const order = item.order\n            dispatch(setSortBy(type, order))\n    }\n\n    const {currentPage} = useSelector((state: AppStateType) => state.paginate);\n\n    const {type, order} = useSelector((state: AppStateType) => state.filters.sortBy);\n\n    const items = useSelector((state: AppStateType) => state.books.items);\n\n    useEffect(() => {\n                dispatch(fetchBooks(currentPage, type, order));\n    }, [dispatch, currentPage, type, order]);\n\n    useEffect(() => {\n        axios.get(` http://localhost:3001/books?}`)\n            .then(({data}) => {\n                dispatch(setTotalItemCount(data.length))\n            })\n            .catch(e => console.log(e))\n    }, [dispatch]);\n\n    return (\n\n        <Container maxWidth='md' className={classes.container}>\n            <Switch>\n                <Route exact path='/'>\n                    <Header/>\n                    <SortPopup onSortBy={onSortBy}/>\n                    <Main items={items}/>\n                </Route>\n                <Route path='/cart'>\n                    <Cart/>\n                </Route>\n                <Route path='/img/:title'>\n                    <Image items={items}/>\n                </Route>\n                <Redirect to={{pathname: '/'}}/>\n            </Switch>\n        </Container>\n\n    );\n}\n\nexport default App;\n","import {SET_SORT_BY} from \"../constants/constants\";\n\n\ntype payloadType = {\n    type: string | null\n    order: string | null\n}\n\nexport type setSortByActionType = {\n    type: typeof SET_SORT_BY,\n    payload: payloadType\n}\n\nexport const setSortBy = (type: string | null, order: string | null): setSortByActionType => ({\n    type: SET_SORT_BY,\n    payload: {type, order},\n});\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {SET_BOOKS, SET_LOADED} from \"../constants/constants\";\nimport {ActionType} from \"../action/books\";\n\nexport interface itemsType {\n    [author:string]: string\n    id: string\n    imgMedium: string\n    imgSmall: string\n    price: number | any\n    title: string\n    type: string\n}\n\nexport type InitialStateType = {\n    items: Array<itemsType>\n    isLoaded: boolean\n}\n\nconst initialState: InitialStateType = {\n    items: [],\n    isLoaded: false,\n};\n\nconst books = (state = initialState, action: ActionType): InitialStateType => {\n    switch (action.type) {\n        case SET_BOOKS:\n            return {\n                ...state,\n                items: action.payload,\n                isLoaded: true,\n            };\n\n        case SET_LOADED:\n            return {\n                ...state,\n                isLoaded: action.payload,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport default books;\n","import {SEARCH_BOOKS} from \"../constants/constants\";\nimport {searchBooksActionType} from \"../action/search\";\n\nexport type InitialStateType = {\n    search: string\n}\n\nconst initialState: InitialStateType = {\n    search: '',\n};\n\nconst search = (state = initialState, action: searchBooksActionType): InitialStateType => {\n    switch (action.type) {\n        case SEARCH_BOOKS:\n            return {\n                search: action.payload,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport default search;","import {SET_SORT_BY} from \"../constants/constants\";\nimport {setSortByActionType} from \"../action/filter\";\n\n\nexport type InitialStateType = {\n    sortBy: {\n        type: string | null,\n        order: string | null,\n    },\n}\n\nconst initialState: InitialStateType = {\n    sortBy: {\n        type: null,\n        order: null,\n    },\n};\n\nconst filters = (state = initialState, action: setSortByActionType): InitialStateType => {\n    if (action.type === SET_SORT_BY) {\n        return {\n            ...state,\n            sortBy: action.payload,\n        };\n    }\n\n    return state;\n};\n\nexport default filters;","import {ADD_BOOK_CART, MINUS_CART_ITEM, PLUS_CART_ITEM, REMOVE_CART_ITEM} from \"../constants/constants\";\nimport {itemsType} from \"./books\";\nimport {CartActionTypes} from \"../action/cart\";\n\n\ninterface cartItemsType {\n    items: Array<itemsType>\n    totalPrice: number\n}\n\nexport type InitialStateType = {\n    items: any,\n    totalPrice: any,\n    totalCount: any,\n}\n\nconst initialState: InitialStateType = {\n    items: {},\n    totalPrice: 0,\n    totalCount: 0,\n};\n\nconst getTotalPrice = (arr: any[]) => arr.reduce((sum, obj) => obj.price + sum, 0);\n\nconst _get = (obj: any, path: any) => {\n    const [firstKey, ...keys] = path.split('.');\n    return keys.reduce((val: any, key: any) => {\n        return val[key];\n    }, obj[firstKey]);\n};\n\nconst getTotalSum = (obj: {}, path: string) => {\n    return Object.values(obj).reduce((sum, obj) => {\n        const value = _get(obj, path);\n\n        return sum + value;\n    }, 0);\n};\n\nconst cart = (state = initialState, action: CartActionTypes): InitialStateType => {\n    switch (action.type) {\n        case ADD_BOOK_CART: {\n\n            const currenItems = !state.items[action.payload.id]\n                ? [action.payload]\n                : [...state.items[action.payload.id].items, action.payload];\n\n            const newItems = {\n                ...state.items,\n                [action.payload.id]: {\n                    items: currenItems,\n                    totalPrice: getTotalPrice(currenItems),\n                },\n            };\n\n            const totalCount = getTotalSum(newItems, 'items.length');\n            const totalPrice = getTotalSum(newItems, 'totalPrice');\n\n            return {\n                ...state,\n                items: newItems,\n                totalCount,\n                totalPrice,\n            };\n        }\n\n        case REMOVE_CART_ITEM: {\n            const newItems = {\n                ...state.items,\n            };\n            const currentTotalPrice = newItems[action.payload].totalPrice;\n            const currentTotalCount = newItems[action.payload].items.length;\n            delete newItems[action.payload];\n            return {\n                ...state,\n                items: newItems,\n                totalPrice: state.totalPrice - currentTotalPrice,\n                totalCount: state.totalCount - currentTotalCount,\n            };\n        }\n\n        case PLUS_CART_ITEM: {\n            const newObjItems = [\n                ...state.items[action.payload].items,\n                state.items[action.payload].items[0],\n            ];\n            const newItems = {\n                ...state.items,\n                [action.payload]: {\n                    items: newObjItems,\n                    totalPrice: getTotalPrice(newObjItems),\n                },\n            };\n\n            const totalCount = getTotalSum(newItems, 'items.length');\n            const totalPrice = getTotalSum(newItems, 'totalPrice');\n\n            return {\n                ...state,\n                items: newItems,\n                totalCount,\n                totalPrice,\n            };\n        }\n\n        case MINUS_CART_ITEM: {\n            const oldItems = state.items[action.payload].items;\n            const newObjItems =\n                oldItems.length > 1 ? state.items[action.payload].items.slice(1) : oldItems;\n            const newItems = {\n                ...state.items,\n                [action.payload]: {\n                    items: newObjItems,\n                    totalPrice: getTotalPrice(newObjItems),\n                },\n            };\n\n            const totalCount = getTotalSum(newItems, 'items.length');\n            const totalPrice = getTotalSum(newItems, 'totalPrice');\n\n            return {\n                ...state,\n                items: newItems,\n                totalCount,\n                totalPrice,\n            };\n        }\n\n        /* case 'CLEAR_CART':\n             return {totalPrice: 0, totalCount: 0, items: {}};*/\n\n        default:\n            return state;\n    }\n};\n\nexport default cart;","import {SET_CURRENT_PAGE, SET_TOTAL_ITEM_COUNT} from \"../constants/constants\";\nimport {PaginateActionType} from \"../action/paginate\";\n\n\nexport type InitialStateType = {\n    totalItemCount: number,\n    currentPage: number,\n    defaultItemsCount: number\n}\n\nconst initialState: InitialStateType = {\n    totalItemCount: 0,\n    currentPage: 1,\n    defaultItemsCount: 10\n};\n\nconst paginate = (state = initialState, action: PaginateActionType): InitialStateType => {\n    switch (action.type) {\n\n        case SET_TOTAL_ITEM_COUNT:\n            return {\n                ...state,\n                totalItemCount: action.payload,\n            };\n\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.payload,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport default paginate;","import { combineReducers } from 'redux';\nimport books from \"./books\";\nimport search from \"./search\";\nimport filters from \"./filter\";\nimport cart from \"./cart\";\nimport paginate from \"./paginate\";\n\nexport type RootReducerType = typeof rootReducer\n\nconst rootReducer = combineReducers({\n  books,\n  search,\n  filters,\n  cart,\n  paginate\n});\n\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer, {RootReducerType} from './reducers';\n\ndeclare global {\n    interface Window {\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n}\n\nexport type AppStateType = ReturnType<RootReducerType>\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n          <App/>\n        </Provider>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}